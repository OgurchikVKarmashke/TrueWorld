# sound_system.py
# ui.sound_system.py
import os
import platform
import subprocess
import time

class SoundSystem:
    def __init__(self):
        self.sounds = {}
        self.music_playing = False
        self.system = platform.system()
    
    def load_sounds(self):
        """–ó–∞–≥—Ä—É–∑–∫–∞ –∑–≤—É–∫–æ–≤—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ (–∑–∞–≥–ª—É—à–∫–∞)"""
        # –í —Ä–µ–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–¥–µ—Å—å –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∑–≤—É–∫–æ–≤—ã–µ —Ñ–∞–π–ª—ã
        # –Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã —Å–¥–µ–ª–∞–µ–º –∑–∞–≥–ª—É—à–∫—É
        sound_files = {
            'button_click': 'sounds/click.wav',
            'achievement': 'sounds/achievement.wav',
            'build': 'sounds/build.wav',
            'error': 'sounds/error.wav'
        }
        
        for name, path in sound_files.items():
            self.sounds[name] = path
    
    def play_sound(self, sound_name, volume=0.3):
        """–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞ (–∑–∞–≥–ª—É—à–∫–∞)"""
        # –í–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ø—Ä–æ—Å—Ç–æ –≤—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        sound_messages = {
            'button_click': 'üîä',
            'achievement': 'üéµ',
            'build': 'üî®',
            'error': '‚ùå'
        }
        
        if sound_name in sound_messages:
            print(sound_messages[sound_name], end=" ", flush=True)
            time.sleep(0.1)
    
    def play_music(self, music_file, volume=0.1, loop=-1):
        """–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –º—É–∑—ã–∫–∏ (–∑–∞–≥–ª—É—à–∫–∞)"""
        print("üé∂ –§–æ–Ω–æ–≤–∞—è –º—É–∑—ã–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞")
        self.music_playing = True
    
    def stop_music(self):
        """–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –º—É–∑—ã–∫–∏"""
        print("üé∂ –ú—É–∑—ã–∫–∞ –≤—ã–∫–ª—é—á–µ–Ω–∞")
        self.music_playing = False
    
    def toggle_music(self):
        """–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º—É–∑—ã–∫–∏"""
        if self.music_playing:
            self.stop_music()
        else:
            self.play_music('sounds/background.mp3')