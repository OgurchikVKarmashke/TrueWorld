# tower_menu.py
from ui.ui_utils import print_header, press_enter_to_continue, loading_screen
from ui.tower_system import send_to_tower

def tower_menu(game_state):
    """
    –ú–µ–Ω—é –±–∞—à–Ω–∏ –∏—Å–ø—ã—Ç–∞–Ω–∏–π
    """
    while True:
        print_header("üè∞ –ë–∞—à–Ω—è –∏—Å–ø—ã—Ç–∞–Ω–∏–π")
        print("–í—ã–±–µ—Ä–∏—Ç–µ –ª–æ–∫–∞—Ü–∏—é –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:")
        print()
        print("1. üè∞ –ë–∞—à–Ω—è –∏—Å–ø—ã—Ç–∞–Ω–∏–π (–æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å)")
        print("2. üìÖ –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –ø–æ–¥–∑–µ–º–µ–ª—å–µ (–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ)")
        print("0. ‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ª–æ–±–±–∏")
        print()
        
        try:
            choice = int(input("–í–∞—à –≤—ã–±–æ—Ä: "))
        except ValueError:
            press_enter_to_continue()
            continue
        
        if choice == 0:
            break
        elif choice == 1:
            send_to_tower(game_state)
        else:
            loading_screen(1, "üö´ –õ–æ–∫–∞—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞")
            print("–≠—Ç–∞ –ª–æ–∫–∞—Ü–∏—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –±—É–¥—É—â–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö!")
            press_enter_to_continue()