# heroes_menu.py
from ui.ui_utils import print_header, press_enter_to_continue
from ui.party_editor import manage_parties
from ui.role_manager import manage_roles

def heroes_menu(game_state):
    """–ú–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–µ—Ä–æ—è–º–∏"""
    while True:
        print_header("üéØ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–µ—Ä–æ—è–º–∏")

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã —Ä–æ–ª–µ–π –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∫–æ–Ω–∫–∏
        from ui.role_manager import is_role_system_available
        role_available = is_role_system_available(game_state)
        role_icon = "üëë" if role_available else "üîí"

        print("1. ‚öîÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ–µ–≤—ã–º–∏ –≥—Ä—É–ø–ø–∞–º–∏")
        print("2. üë• –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö –≥–µ—Ä–æ–µ–≤")
        print(f"3. {role_icon} –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏ –≥–µ—Ä–æ–µ–≤")
        print("0. ‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ª–æ–±–±–∏")
        print()

        try:
            choice = int(input("–í–∞—à –≤—ã–±–æ—Ä: "))
        except ValueError:
            press_enter_to_continue()
            continue

        if choice == 0:
            break
        elif choice == 1:
            manage_parties(game_state)
        elif choice == 2:
            from ui.party_manager import view_party
            view_party(game_state)
        elif choice == 3:
            manage_roles(game_state)
        else:
            print("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä!")
            press_enter_to_continue()